# 编译系统原理

- **授课时间：** 2024FALL
- **授课教师：** 王刚

## 总体评价

本来想多说两句的，但是因为这是计科和信安的必修课，所以我只能说物联网和密码的同学慎选吧。至于计科和信安的就自求多福。这应该是本科期间最难的课程，没有之一。

## 得分情况

对于整个选课群体来说，本课程还是存在一些高分（95+）的，但是大部分可能集中在计卓。对于信安的同学，似乎没有特别高的分数出现。问了一下周围的同学，大家都考的不是很理想。

对于我个人而言，这是我本学期最低的一门课程。后面总结了一下原因，可能是有以下几点：

- **代码能力弱。** 对于难度巨大的后三次实验，在准备答辩和代码中花费的时间较多，间接影响了其他必修课的复习和学习。从第二个月开始我就没有去过教室听课，期末也是花了两天，看了一看b站的网课速通了一下。
- **PPT较为抽象，难以速通。** 在期末前一个月，我尝试对着PPT进行“预习”，但是由于王老师的讲课实在是较为冗长，PPT也难以看懂，所以大概学到了第四章的前一半就学不下去了。后期由于期末堆了一堆事，所以不得已在编译考试前三天开始从头学习。大概的方式也就是面向考试题复习，也就是根据往年卷进行针对性学习。
- **考试题型较偏。** 接上一条，由于我只对往年卷子中的常规题型进行了学习，所以导致了考试中遇到的一些非常规的题型，是难以做出的。题目中包括了：消除左递归并根据消除左递归后的文法设计语法制导翻译；NFA分析而不是常规的DFA分析等等。选择题考察的总体不难。最后卷面实际上可能就拿到了80分左右，加上平时分扣去3分多，导致了最后的分数十分难看。
- **平时分没有拿全。** 这也和前面的代码能力弱有紧密的联系。首先是平时作业，由于缺少一些步骤，被扣去了一些分数；另外大头就是实验部分了。由于个人水平实在有限，在实验中扣去了3分左右。**当然扣去分数是由于本人水平太低，和助教团队没有任何关系。**
- **答辩预约制度。** 这一点不能多说了，反正懂得都懂。

## 学习策略

该课程分为两个老师。选课的时候随便选一个就行，因为两个班实际上所有的课程资料都是王刚老师进行下发，所有的实验预约也是一起的。两个老师几乎都不签到，李老师是不签到的，王老师在其中一次课程中进行了雨课堂抽人回答问题，将没有到的同学记录了下来，不过不知道会不会影响平时分。

对于时间十分宝贵的大三上，我认为如果实在由于个人原因来不及听课的话，是可以课后B站速通/听王老师的回放来进行学习的。B站上的编译速通的网课很多，如果实在没有办法，给出本人的速通路线：

- **第一章&第二章：** 好好看PPT，特别是第一章，会在选择题中进行考察，包括但不限于编译器的组成、各部分的作用、编译器&解释器的区别、各部分出现的错误处理等等。
- **第三章：** 看PPT还是可以理解的，本部分我听了王老师讲的，所以没有花很多时间进行学习。
- **第四章：** 其实一共就那几个算法，在B站（up主 致爱意/中科大的网课）都可以进行很详细的学习。强推致爱意的网课，讲得很清楚！
- **第五章：** 这时候在B站就很难找到对应的资源进行学习了。建议还是听一下王老师的网课，或者对着往年题直接背诵。
- **6-10章：** 到后面你就会发现实际上后几章能考察的地方不多，掌握基本的一些内容即可应付考试。语法制导翻译几乎是必考的，最后一题一般分值不是很大，本年度考察的是类型检查，上一年度考察的是三地址码的生成。

## 平时作业

平时分占到了该课程的50分。本以为55开的课程得分会高一些，没想到平时分这么难拿。

平时分主要分为两部分。15分的书面作业和35分的实验作业，都需要上传到雨课堂上供助教批阅，迟交或者忘交的都会扣除一定的分数。纸质作业若出现抄袭直接记0，实验作业出现抄袭的话会根据查重率扣除一定的分数，不过到了最后基本大家都在扣，所以不用特别担心。

具体如下：

- **书面作业**
  - 第二章（2分）
  - 第三章（5分）
  - 第四章（6分）
  - 第五&六章（1分）
  - 789章（1分）
- **实验作业**
  - Lab0：预备工作 了解你的编译器 & LLVM IR 编程 & 汇编编程（5分）
  - Lab1：词法分析（3分）
  - Lab2：语法分析（3分）
  - Lab3：类型检查和中间代码生成（8分）
  - Lab4：代码优化（4分，可以有4分的溢出）
  - Lab5：目标代码生成（12分）

再多说两句。

对于 **平时作业** ，在提交之前一定要找朋友对一下答案，因为错了扣分的话是很亏的。一个小错误就可以扣去0.5分左右，相当于你的总评少了0.5分，很亏。另外，想在实验中多拿0.5分也是很难的，所以尽量保证书面作业不要出现错误！

对于 **实验作业** ，本年度采用了全新的模式，一共是三个框架——ARM（延续去年）&RISCV&RUST。对于ARM来说，优点是参考的资料较多，缺点是对于进阶要求，很难完成，因为往年框架很多都没有进行进阶代码的编写；对于RUST来说，虽然有10%的加分，但是学习RUST成本较高，而且需要单独进行答辩，压力较大；而对于绝大多数人的选择——RISCV，个人认为有以下优缺点。优点就是，选择的人多，大家可以相互进行讨论；有完整的参考仓库，实在写不出来了的话通过借鉴仓库也可以至少完成实验；仓库相比ARM框架较为完善。缺点则是，框架将很多内容写死了，所以在阅读完参考框架的代码之后，写出的代码重复率会很高，所以可能需要人为的进行降重操作。另外，RISCV框架文件较多，答辩时压力会比较大。其实难度都集中在后三次实验中，所以，完成全部的实验要求（基础+进阶）+答辩时回答出助教的问题+选择正确的助教进行答辩+答辩后顺利通过助教的查重，才是你获得满分的条件。遇到抽象的助教的话你的分数注定不会很好看了。

## 考试内容

由于王刚老师会在期末前提供往年的试卷进行复习，所以我认为此处没有必要再进行试题的回忆了。需要往年卷（2017-2024）的话可以在我仓库内自取，楼下也有同学给出了2024AB卷的回忆版。
